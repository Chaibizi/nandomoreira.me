---
layout: post
title: Criando formulário de contato para Wordpress com Odin Framework
date: 2014-07-13 15:57:09.000000000 -03:00
categories:
- Dicas
- Iniciantes
- PHP
- Wordpress
tags:
- Iniciantes
- Odin
- php
- Wordpress
---

<p>Olá pessoas.<br>
O tutorial de hoje está supimpa! Nós vamos criar formulários para Wordpress usando um magnífico framework chamado <a title="Odin Framework" href="http://wpod.in/" target="_blank">Odin Framework</a>.</p>
<p>Primeira coisa que você deve fazer é baixar o Odin, abra o site do Odin e clique no botão "Download Odin" ou se preferir o link está logo no final desse post.</p>
<p>Você não precisa de todos os arquivos do Odin para implementar os formulários no seu site, basta que inclua apenas 2 arquivos, o <code>abstract-front-end-form.php</code> que está dentro do diretório <code>/core/classes/abstracts/</code> e o <code>class-contact-form.php</code> que está dentro de <code>/core/classes/</code>. <strong>É necessário que seja os 2 arquivos pois um depende do outro!</strong></p>
<p>Para esta demostração eu usei o tema <a title="Twenty Twelve Wordpress Theme" href="http://wordpress.org/themes/twentytwelve" target="_blank">Twenty Twelve</a>. Dupliquei o arquivo <code>page.php</code> e criei um template chamado <code>contato.php</code>.</p>
<p>[well]Para saber como criar um template veja esse link: <a title="Wordpress Page Templates" href="http://codex.wordpress.org/Page_Templates" target="_blank">Page Tempalte</a>[/well]</p>
<p>Desse template eu removi o <code>while</code> padrão do tema e a linha onde está chamando o sitebar <code>get_sidebar();</code></p>
<p>Agora copie o 2 arquivos para dentro de alguma pasta do seu tema, eu criei um diretório chamado <code>contact-form/</code> e coloquei os 2 arquivos lá dentro.</p>
<p>Para que tudo funcione corretamente precisamos incluir os arquivos no arquivo <code>functions.php</code> do tema. Primeiro o abstract-front-end-form e em seguida o class-contact-form assim:</p>
<p>[gist id="3131b07986bfd6463f8b"]</p>
<p>Eu criei um terceiro arquivo chamado <code>contact-form.php</code> no mesmo diretório que estão os outros 2 arquivos e será nele que iremos criar a função para criar o formulário de contato.</p>
<p>Seguindo a <a title="Documentação do Odin Contact Form" href="https://github.com/wpbrasil/odin/wiki/Classe-Odin_Contact_Form" target="_blank">documentação do Odin</a> iremos criar uma função chamada <code>odin_contact_form()</code>.</p>
<p>[gist id="6ab5e8e1cbe9ed1c2568"]</p>
<p>Nessa função você pode observar que instanciamos a classe <code>Odin_Contact_Form()</code> com alguns atributos obrigatórios como o <strong>id co formulário</strong> e o <strong>e-mail do destinatário</strong>, você também pode incluir um array de e-mails extras para receberem uma cópia da mensagem.</p>
<p>Para criarmos os campos precisamos de um punhado de <code>arrays</code> e os mesmos precisam estar exatamente em seus devidos lugares para um funcionamento correto da classe do Odin. Para cada campo criado temos um <code>id</code>, uma <code>label</code> e um <code>type</code> que também são obrigatórios. Para mais detalhes da função consulte a <a title="Documentação do Odin Contact Form" href="https://github.com/wpbrasil/odin/wiki/Classe-Odin_Contact_Form" target="_blank">documentação do Odin</a>.</p>
<p>O formulário de contato já está criado, mas temos que renderizar o mesmo no template que criamos alguns minutos atrás.</p>
<p>Basta chamar a função <code>echo odin_contact_form()-&gt;render();</code> onde você quer que o seu formulário apareça, lembrando que <code>odin_contact_form()</code> é o nome da função com a instancia do <code>Odin_Contact_Form()</code> e os <code>arrays</code> dos campos, se você optou por criar a função com outro nome você chamaria assim: <code>formulario_de_contato()-&gt;render();</code>.</p>
<p>[alert]O Odin framework usa o HTML e as classes do <a title="Bootstrap 3" href="http://getbootstrap.com/" target="_blank">Bootstrap 3</a> então se você não está usando o BS3 como framework css você precisará formatar o seu formulário de contato, isso vale também para a mensagem de envio do formulário ;)[/alert]</p>
<p>Para uma formatação simples eu usei o css abaixo:</p>
<p>[gist id="106243ae2c073b1f5ab9"]</p>
<p>&nbsp;</p>
<p>[clear]</p>
<p>[button link="https://github.com/wpbrasil/odin/archive/master.zip" type="primary" size="sm" tooltip="Download Odin"]<i class="icon icon-download"></i> Odin Framework[/button] [button link="https://app.box.com/s/hbb41skydme4ovz4my27" type="info" size="sm" tooltip="Arquivos do tutorial"]<i class="icon icon-download"></i> Arquivos do tutorial[/button]</p>
